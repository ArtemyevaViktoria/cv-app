<nb-card>
  <nb-card-body>
    <div class="mb-4 text-center">
      <p *ngIf="!changeEvent" class="fs-4">{{ titles[0] }}</p>
      <p *ngIf="changeEvent" class="fs-4">{{ titles[changeEvent.index] }}</p>
    </div>

    <nb-stepper #stepper (stepChange)="handleStepChange($event)" disableStepNavigation>

      <nb-step [stepControl]="personalForm" label="Personal">
        <cv-personal-form (form)="personalFormSubmit($event)"></cv-personal-form>
      </nb-step>

      <nb-step [stepControl]="experiencesForm" label="Experiences">
        <cv-experiences-form (form)="experiencesFormSubmit($event)"></cv-experiences-form>
      </nb-step>

      <nb-step [stepControl]="educationsForm" label="Education">
        <cv-educations-form (form)="educationsFormSubmit($event)" (confirm)="confirmForms()"></cv-educations-form>
      </nb-step>

      <nb-step [stepControl]="educationsForm" [hidden]="true" label="Last step">
        <div class="step-container">
          <p class="fs-4 fw-bold">CV completed!</p>

          <cv-result></cv-result>

          <button class="mt-3" nbButton (click)="stepper.reset()">Try again</button>
        </div>
      </nb-step>
    </nb-stepper>
  </nb-card-body>
</nb-card>
