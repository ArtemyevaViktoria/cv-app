<nb-card>
  <nb-card-body>
    <p *ngIf="!changeEvent">{{ titles[0] }}</p>
    <p *ngIf="changeEvent">{{ titles[changeEvent.index] }}</p>

    <nb-stepper #stepper (stepChange)="handleStepChange($event)">

      <nb-step [stepControl]="personalForm" label="Personal">
        <form [formGroup]="personalForm" (ngSubmit)="onPersonalFormSubmit()" class="step-container">
          <div class="">
            <label for="name" class="mb-1 ms-1">First name</label>
            <input id="name" class="form-control" nbInput type="text" placeholder="Ivan"
                   formControlName="name"
                   [ngClass]="{'form-control-danger': personalForm.invalid && (personalForm.dirty
                   || personalForm.touched)}">

            <label for="surname" class="mb-1 ms-1 mt-3">Last name</label>
            <input id="surname" class="form-control" nbInput type="text" placeholder="Ivanov"
                   formControlName="surname"
                   [ngClass]="{'form-control-danger': personalForm.invalid && (personalForm.dirty
                   || personalForm.touched)}">

            <label for="title" class="mb-1 ms-1 mt-3">Title</label>
            <input id="title" class="form-control" nbInput type="text" placeholder="Frontend Developer"
                   formControlName="title"
                   [ngClass]="{'form-control-danger': personalForm.invalid && (personalForm.dirty
                   || personalForm.touched)}">

            <label for="address" class="mb-1 ms-1 mt-3">Address</label>
            <input id="address" class="form-control" nbInput type="text" placeholder="125009, Red Square, Moscow, RU"
                   formControlName="address"
                   [ngClass]="{'form-control-danger': personalForm.invalid && (personalForm.dirty
                   || personalForm.touched)}">

            <label for="email" class="mb-1 ms-1 mt-3">Email address</label>
            <input id="email" class="form-control" nbInput type="email" placeholder="ivan.front.dev@gmail.com"
                   formControlName="email"
                   [ngClass]="{'form-control-danger': personalForm.invalid && (personalForm.dirty
                   || personalForm.touched)}">

            <label for="phone" class="mb-1 ms-1 mt-3">Phone number</label>
            <input id="phone" class="form-control" nbInput type="tel" placeholder="+7 (495) 830-29-50"
                   formControlName="phone"
                   [ngClass]="{'form-control-danger': personalForm.invalid && (personalForm.dirty
                   || personalForm.touched)}">
          </div>

          <button class="mt-3" nbButton nbStepperNext type="button">next</button>
        </form>
      </nb-step>

      <nb-step [stepControl]="experiencesForm" label="Experiences">
        <cv-experiences-form (form)="experiencesFormSubmit($event)"></cv-experiences-form>
      </nb-step>

      <nb-step [stepControl]="educationForm" label="Education">
        <cv-education-form (form)="educationFormSubmit($event)" (confirm)="confirmForms()"></cv-education-form>
      </nb-step>

      <nb-step [stepControl]="educationForm" [hidden]="true" label="Last step">
        <div class="step-container">
          <h3>CV completed!</h3>
          <button class="mt-3" nbButton (click)="stepper.reset()">Try again</button>
        </div>
      </nb-step>
    </nb-stepper>
  </nb-card-body>
</nb-card>
